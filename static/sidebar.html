<!-- sidebar.html -->
{{with .PAst}}
	{{range $filename, $ast := .}}
		<a href="{{$filename|srcLink|html}}">{{$filename|filename|html}}</a>:<pre>{{node_html $ $ast false}}</pre>
	{{end}}
{{end}}

{{with .Dirs}}
  {{/* DirList entries are numbers and strings - no need for FSet */}}

		<div id="stdlib" class="toggleVisible">
			<div class="collapsed">
				<h3 class="toggleButton" title="Click to show Standard library section">Standard library ▹</h3>
			</div>
			<div class="expanded">
				<h3 class="toggleButton" title="Click to hide Standard library section">Standard library ▾</h3>
				<div class="pkg-dir">
					<table>
						<tr>
							<th class="pkg-name">Name</th>
						</tr>

						{{range .List}}
							<tr>
							{{if eq .RootType "GOROOT"}}
							{{if $.DirFlat}}
								{{if .HasPkg}}
										<td class="pkg-name">
											<a href="{{html .Path}}/{{modeQueryString $.Mode | html}}">{{html .Path}}</a>
										</td>
								{{end}}
							{{else}}
									<td class="pkg-name" style="padding-left: {{multiply .Depth 20}}px;">
										<a href="{{html .Path}}/{{modeQueryString $.Mode | html}}">{{html .Name}}</a>
									</td>
							{{end}}
							{{end}}
							</tr>
						{{end}}
					</table>
				</div> <!-- .pkg-dir -->
			</div> <!-- .expanded -->
		</div> <!-- #stdlib .toggleVisible -->

	{{if hasThirdParty .List }}
		<div id="thirdparty" class="toggleVisible">
			<div class="collapsed">
				<h3 class="toggleButton" title="Click to show Third party section">Third party ▹</h3>
			</div>
			<div class="expanded">
				<h3 class="toggleButton" title="Click to hide Third party section">Third party ▾</h3>
				<div class="pkg-dir">
					<table>
						<tr>
							<th class="pkg-name">Name</th>
						</tr>

						{{range .List}}
							<tr>
								{{if eq .RootType "GOPATH"}}
								{{if $.DirFlat}}
									{{if .HasPkg}}
											<td class="pkg-name">
												<a href="{{html .Path}}/{{modeQueryString $.Mode | html}}">{{html .Path}}</a>
											</td>
									{{end}}
								{{else}}
										<td class="pkg-name" style="padding-left: {{multiply .Depth 20}}px;">
											<a href="{{html .Path}}/{{modeQueryString $.Mode | html}}">{{html .Name}}</a>
										</td>
								{{end}}
								{{end}}
							</tr>
						{{end}}
					</table>
				</div> <!-- .pkg-dir -->
			</div> <!-- .expanded -->
		</div> <!-- #stdlib .toggleVisible -->
	{{end}}
{{end}}
<!-- end sidebar.html -->
